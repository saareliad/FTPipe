GeForce GTX 1070
python partition_gpt2_models.py --train_data_file=$TRAIN_FILE --n_iter=100 --analysis_batch_size=1 --depth=3
 
cutting edges are edges between partitions
number of cutting edges: 6

backward times include recomputation

theoretical times are execution time based on sum of graph weights ms
sequential forward {0: 15.257272641509772, 1: 18.691171215325596, 2: 18.559264333397145, 3: 22.04674082353711}
sequential backward {0: 44.93089503392578, 1: 48.93922274261713, 2: 48.409781450927255, 3: 54.062987170219415}
parallel forward {0: 15.134735041409732, 1: 18.691171215325596, 2: 18.559264333397145, 3: 22.04674082353711}
parallel backward {0: 43.617220152169466, 1: 48.93922274261713, 2: 48.409781450927255, 3: 54.062987170219415}

real times are based on real measurements of execution time of generated partitions ms
forward {0: 29.06242519378662, 1: 37.26200588226318, 2: 35.9077853012085, 3: 45.47105686187744}
backward {0: 80.45442192077637, 1: 97.3022738647461, 2: 92.46670097351074, 3: 162.57930572509767}
variance of real execution times ms
forward{0: 0.13881304385381554, 1: 0.15031249676076186, 2: 0.13087562668783903, 3: 0.07331513883627849}
backward{0: 0.5680862995495772, 1: 0.5039042185289873, 2: 0.5032058937613328, 3: 0.4535194009367842}

imbalance is ratio of computation time between fastest and slowest parts between 0 and 1 higher is better
theoretical sequential imbalance:
forward 0.6920420920094049
backward 0.8310842109493342
theoretical parallel imbalance:
forward 0.6864840097023267
backward 0.8067852413489279

real imbalance:
forward 0.6391411856132229
backward 0.4948626245016402

topology aware imbalance is worst imbalance between 2 connected partitions
theoretical sequential topology aware imbalance:
forwad 0.8162823220515876
backward 0.895432975216615
theoretical parallel topology aware imbalance:
forwad 0.8097264139873799
backward 0.8912528174295425

real topology aware imbalance:
forwad 0.7799479524965781
backward 0.568748282944823

communication volumes size of activations of each partition
0: input size: 0.008192 MB recieve_time: 0.0006826666666666666 ms out: 22.020096000000002 MB send time: 0.5242880000000001 ms
1: input size: 3.145728 MB recieve_time: 0.26214400000000004 ms out: 40.894464 MB send time: 1.0485760000000002 ms
2: input size: 15.72864 MB recieve_time: 1.0485760000000002 ms out: 28.311552000000002 MB send time: 0.5242880000000001 ms
3: input size: 3.1539200000000003 MB recieve_time: 0.26214400000000004 ms out: 212.144132 MB send time: 17.154389333333334 ms









GeForce GTX 1080 Ti
python partition_gpt2_models.py --train_data_file=$TRAIN_FILE --n_iter=100 --analysis_batch_size=1 --depth=3
number of cutting edges: 6

backward times include recomputation

theoretical times are execution time based on sum of graph weights ms
sequential forward {0: 7.946790392026305, 1: 8.952704619914293, 2: 8.291612477153539, 3: 13.273960301578045}
sequential backward {0: 30.137932797148828, 1: 30.53103773236276, 2: 28.40093950986862, 3: 36.53461210787297}
parallel forward {0: 7.862618553191424, 1: 8.952704619914293, 2: 8.291612477153539, 3: 13.273960301578045}
parallel backward {0: 29.0828777641058, 1: 30.53103773236276, 2: 28.40093950986862, 3: 36.53461210787297}

real times are based on real measurements of execution time of generated partitions ms
forward {0: 15.674007682800292, 1: 18.47265464782715, 2: 16.321795539855955, 3: 29.55298496246338}
backward {0: 43.18593852996826, 1: 48.11459651947021, 2: 43.744543800354, 3: 91.07087516784668}
variance of real execution times ms
forward{0: 0.03708443954104723, 1: 0.029927599875975375, 2: 0.015442574127860098, 3: 0.08610070922020441}
backward{0: 0.29592279116150166, 1: 0.21635607180041916, 2: 0.1552280260277712, 3: 0.3711267797407345}

imbalance is ratio of computation time between fastest and slowest parts between 0 and 1 higher is better
theoretical sequential imbalance:
forward 0.5986751663768023
backward 0.7773707690124458
theoretical parallel imbalance:
forward 0.5923340415788869
backward 0.7773707690124458

real imbalance:
forward 0.5303696970951861
backward 0.4742014222480582

topology aware imbalance is worst imbalance between 2 connected partitions
theoretical sequential topology aware imbalance:
forwad 0.6246524992370068
backward 0.7773707690124458
theoretical parallel topology aware imbalance:
forwad 0.6246524992370068
backward 0.7773707690124458

real topology aware imbalance:
forwad 0.5522892378075185
backward 0.4803351644500104

communication volumes size of activations of each partition
0: input size: 0.008192 MB recieve_time: 0.0006826666666666666 ms out: 22.020096000000002 MB send time: 0.5242880000000001 ms
1: input size: 3.145728 MB recieve_time: 0.26214400000000004 ms out: 28.311552 MB send time: 0.5242880000000001 ms
2: input size: 3.145728 MB recieve_time: 0.26214400000000004 ms out: 34.603008 MB send time: 1.0485760000000002 ms
3: input size: 15.736832 MB recieve_time: 1.0485760000000002 ms out: 218.435588 MB send time: 17.154389333333334 ms




gtx 1070
python partition_gpt2_models.py --train_data_file=$TRAIN_FILE --n_iter=100 --analysis_batch_size=1 --depth=3 --n_partitions=2
cutting edges are edges between partitions
number of cutting edges: 2

backward times include recomputation

theoretical times are execution time based on sum of graph weights ms
sequential forward {0: 37.0056524760276, 1: 41.31054489523172}       
sequential backward {0: 100.22950369648636, 1: 103.3464676517248}    
parallel forward {0: 36.88228383630513, 1: 41.31054489523172}        
parallel backward {0: 98.90303297832608, 1: 103.3464676517248}

real times are based on real measurements of execution time of generated partitions ms
forward {0: 68.17288322448731, 1: 81.0383750152588}
backward {0: 182.0754313659668, 1: 255.22701614379883}
variance of real execution times ms
forward{0: 5.630224710964103, 1: 5.866949295208201}
backward{0: 21.168108311935583, 1: 47.01719401496394}
avg diviation from the mean of real execution times ms
forward{0: 1.4194109344482428, 1: 1.759861090087893}
backward{0: 3.149541864013676, 1: 5.003213647460941}

imbalance is ratio of computation time between fastest and slowest parts between 0 and 1 higher is better
theoretical sequential imbalance:
forward 0.8957919235845999
backward 0.969839666259881
theoretical parallel imbalance:
forward 0.8928055519442513
backward 0.9570044842909098

real imbalance:
forward 0.8412419821060204
backward 0.7133862007123207

topology aware imbalance is worst imbalance between 2 connected partitions
theoretical sequential topology aware imbalance:
forwad 0.8957919235845999
backward 0.969839666259881
theoretical parallel topology aware imbalance:
forwad 0.8928055519442513
backward 0.9570044842909098

real topology aware imbalance:
forwad 0.8412419821060204
backward 0.7133862007123207

communication volumes size of activations of each partition
0: input size: 0.008192 MB recieve_time: 0.0006826666666666666 ms out: 50.331648 MB send time: 0.5242880000000001 ms
1: input size: 6.299648 MB recieve_time: 0.26214400000000004 ms out: 237.309956 MB send time: 17.154389333333334 ms