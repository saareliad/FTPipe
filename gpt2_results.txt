 python partition_gpt2_models.py --train_data_file=$TRAIN_FILE --n_iter=100 --partitioning_batch_size=4 --depth=3  --auto_file_name
 
number of cutting edges: 5

backward times include recomputation

theoretical times are execution time based on sum of graph weights ms
sequential forward {0: 64.14569984778761, 1: 71.05328130856157, 2: 67.44509121090174, 3: 61.0710827767849}
sequential backward {0: 139.6478054331243, 1: 149.1629024116695, 2: 141.540129121542, 3: 133.35336621940135}
parallel forward {0: 63.877782088965176, 1: 71.05328130856157, 2: 67.44509121090174, 3: 61.0710827767849}
parallel backward {0: 138.03684063598513, 1: 149.1629024116695, 2: 141.540129121542, 3: 133.35336621940135}

real times are based on real measurements of execution time of generated partitions ms
forward {0: 37.81100364685059, 1: 39.627785263061526, 2: 38.72627704620361, 3: 32.80198709487915}
backward {0: 103.14814422607422, 1: 103.05521163940429, 2: 100.74416725158692, 3: 127.79658027648925}

imbalance is ratio of computation time between fastest and slowest parts between 0 and 1 higher is better
theoretical sequential imbalance:
forward 0.8595110831204658
backward 0.894011607868584
theoretical parallel imbalance:
forward 0.8595110831204658
backward 0.894011607868584

real imbalance:
forward 0.8277522167118195
backward 0.7883166124917103

topology aware imbalance is worst imbalance between 2 connected partitions
theoretical sequential topology aware imbalance:
forwad 0.9027830758332391
backward 0.9362100306128073
theoretical parallel topology aware imbalance:
forwad 0.8990124159300187
backward 0.925409994068244

real topology aware imbalance:
forwad 0.8470214437536482
backward 0.7883166124917103

communication volumes size of activations of each partition
0: input size: 0.008192 MB recieve_time: 0.0006826666666666666 ms out: 40.894464 MB send time: 1.0485760000000002 ms
1: input size: 15.72864 MB recieve_time: 1.0485760000000002 ms out: 31.457279999999997 MB send time: 0.5242880000000001 ms
2: input size: 6.291456 MB recieve_time: 0.26214400000000004 ms out: 28.311552000000002 MB send time: 0.5242880000000001 ms
3: input size: 3.1539200000000003 MB recieve_time: 0.26214400000000004 ms out: 205.852676 MB send time: 17.154389333333334 ms